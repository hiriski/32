"use strict";(self.webpackChunkquiz=self.webpackChunkquiz||[]).push([[182],{66:function(n,e,t){var i,r,o=t(168),l=t(1413),a=t(2791),d=t(2975),s=t(61),c=t(184),u=s.ZP.div(i||(i=(0,o.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    border-radius: 0.4rem;\n    padding: 0.2rem 0.6rem;\n    cursor: pointer;\n    position: relative;\n    border-color: transparent;\n    svg {\n        font-size: 22px;\n        color: #ffffff;\n        margin-left: 0.3rem;\n    }\n"]))),f=s.ZP.p(r||(r=(0,o.Z)(["\n    color: #fff;\n    margin-bottom: 0;\n    font-weight: bold;\n    font-size: 0.9rem;\n"])));e.Z=function(n){var e=n.type,t=n.isSelected,i=n.onClick,r=(0,a.useCallback)((function(){"function"===typeof i&&i(e)}),[i,e]),o=((0,a.useCallback)((function(){}),[]),(0,a.useMemo)((function(){return"function"===typeof i}),[i])),s=(0,a.useMemo)((function(){var n;return(null===(n=d.T.find((function(n){return n.value===e})))||void 0===n?void 0:n.name)||d.T[0].name}),[e]);return(0,c.jsxs)(u,{onClick:r,style:(0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},"heart_refill"===e&&{backgroundColor:"#ff0b38"}),"friends_follow"===e&&{backgroundColor:"#eb12ff"}),"common"===e&&{backgroundColor:"#58cc02"}),"streak"===e&&{backgroundColor:"#ff6200"}),"reminder"===e&&{backgroundColor:"#ff1717"}),"leaderboard"===e&&{backgroundColor:"#3492fc"}),"heart_refill"===e&&t&&{borderColor:"#d40027"}),"friends_follow"===e&&t&&{borderColor:"#cb00dd"}),"common"===e&&t&&{borderColor:"#0b1404"}),"streak"===e&&t&&{borderColor:"#c34b00"}),"reminder"===e&&t&&{borderColor:"#cb0000"}),"leaderboard"===e&&t&&{borderColor:"#0063d4"}),o&&!t&&{opacity:.4}),children:[(0,c.jsx)(f,{children:s}),t&&(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{fill:"currentColor",d:"m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4z"})})]})}},2975:function(n,e,t){t.d(e,{T:function(){return i}});var i=[{name:"General",value:"common"},{name:"Reminder",value:"reminder"},{name:"Friends Follow",value:"friends_follow"},{name:"Leaderboard",value:"leaderboard"},{name:"Refill Heart",value:"heart_refill"},{name:"Streak",value:"streak"}]},6182:function(n,e,t){t.r(e),t.d(e,{default:function(){return Dn}});var i,r,o,l,a,d,s,c,u,f,m,h,p,g,x,v,b,Z,j,w,k,y,C,P,N,z,S,_,q,B,R,U,I=t(168),T=t(4165),F=t(5861),A=t(9439),D=t(2791),L=t(7689),O=t(7022),H=t(9743),M=t(2677),V=t(4270),E=t(9582),G=t(8815),W=t(2351),X=(t(7261),t(5305)),J=t(4420),K=t(7709),Q=t(1830),Y=t.n(Q),$=t(1241),nn=t(61),en=t(9157),tn=t(66),rn=(t(5218),t(6678)),on=t(184),ln=function(n){var e=n.data,t=n.onClickDetail,i=((0,J.I0)(),(0,D.useCallback)((function(){}),[]),(0,D.useCallback)((function(){t(e)}),[e]));return(0,on.jsxs)(an,{onClick:i,children:[(0,on.jsx)(pn,{children:e.type&&(0,on.jsx)(sn,{children:(0,on.jsx)(tn.Z,{type:e.type})})}),(0,on.jsxs)(dn,{children:[(0,on.jsx)(mn,{children:(0,on.jsx)(hn,{children:(0,on.jsx)("img",{src:(null===e||void 0===e?void 0:e.imageUrl)||rn.Z.NoImg,alt:"placeholder"})})}),(0,on.jsxs)(cn,{children:[(0,on.jsx)(un,{children:e.title}),(0,on.jsx)(fn,{children:e.body})]})]})]})},an=nn.ZP.div(i||(i=(0,I.Z)(["\n    width: 100%;\n    border: 1px solid rgb(109 109 109 / 10%);\n    border-radius: 0.4rem;\n    margin-bottom: 0.5rem;\n    padding: 0.5rem 0.6rem;\n    position: relative;\n    cursor: pointer;\n    overflow: hidden;\n"]))),dn=nn.ZP.div(r||(r=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    position: relative;\n"]))),sn=nn.ZP.div(o||(o=(0,I.Z)(["\n    position: absolute;\n    top: 14px;\n    right: 10px;\n"]))),cn=nn.ZP.div(l||(l=(0,I.Z)(["\n    margin-left: 0.8rem;\n"]))),un=nn.ZP.h4(a||(a=(0,I.Z)(["\n    font-size: 0.9rem;\n    font-weight: 700;\n    margin-bottom: 0.15rem;\n    margin-right: 1rem;\n"]))),fn=nn.ZP.p(d||(d=(0,I.Z)(["\n    font-size: 0.7rem;\n    margin-bottom: 0;\n"]))),mn=(nn.ZP.div(s||(s=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: transform 0.2s;\n    position: absolute;\n    bottom: 10px;\n    right: 7px;\n"]))),nn.ZP.button(c||(c=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: auto;\n    height: 32px;\n    width: 32px;\n    background-color: transparent;\n    border: 1px solid #03a9f4;\n    border-radius: 6px;\n    padding: 0;\n    svg {\n        font-size: 18px;\n        color: #03a9f4;\n    }\n    &:hover {\n        background-color: #03a9f4;\n        svg {\n            color: #fff;\n        }\n    }\n"]))),nn.ZP.div(u||(u=(0,I.Z)(["\n    position: relative;\n    padding-top: 40px;\n    width: 40px;\n"])))),hn=nn.ZP.div(f||(f=(0,I.Z)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    overflow: hidden;\n    border-radius: 0.2rem;\n    width: 100%;\n    & img {\n        object-fit: cover;\n        width: 100%;\n        height: 100%;\n    }\n"]))),pn=(nn.ZP.button(m||(m=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: auto;\n    height: 32px;\n    width: 32px;\n    background-color: transparent;\n    border: 1px solid #00e15a;\n    border-radius: 6px;\n    padding: 0;\n    margin-left: 0.5rem;\n    svg {\n        font-size: 20px;\n        color: #00e15a;\n    }\n    &:hover {\n        background-color: #00e15a;\n        svg {\n            color: #fff;\n        }\n    }\n"]))),nn.ZP.div(h||(h=(0,I.Z)(["\n    width: 100px;\n"])))),gn=(0,D.memo)(ln),xn=t(8414),vn=t(5630),bn=t(1134),Zn=t(4695),jn=t(8007),wn=(t(9681),t(2975),t(9346)),kn=nn.ZP.div(p||(p=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    height: 72px;\n    width: 100%;\n    border: 1px solid rgb(109 109 109 / 10%);\n    border-radius: 0.4rem;\n    margin-bottom: 0.5rem;\n    padding: 0.2rem 0.6rem;\n    cursor: pointer;\n"]))),yn=nn.ZP.div(g||(g=(0,I.Z)(["\n    margin-left: 0.8rem;\n"]))),Cn=nn.ZP.h4(x||(x=(0,I.Z)(["\n    font-size: 1rem;\n    font-weight: 700;\n    margin-bottom: 0.25rem;\n    margin-right: 1rem;\n"]))),Pn=nn.ZP.p(v||(v=(0,I.Z)(["\n    font-size: 0.8rem;\n    margin-bottom: 0;\n"]))),Nn=nn.ZP.img(b||(b=(0,I.Z)(["\n    width: 45px;\n    height: 45px;\n    border-radius: 45px;\n"]))),zn=nn.ZP.button(Z||(Z=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: auto;\n    height: 26px;\n    width: 26px;\n    background-color: transparent;\n    border: 1px solid #ececec;\n    border-radius: 26px;\n    padding: 0;\n    svg {\n        font-size: 26px;\n        color: #00d323;\n    }\n"]))),Sn=function(n){var e=n.data,t=n.checked,i=n.onCheck,r=n.canChecked,o=(0,D.useCallback)((function(){r&&i(e)}),[e,i,r]);return(0,on.jsxs)(kn,{onClick:o,children:[(0,on.jsx)(Nn,{src:(null===e||void 0===e?void 0:e.imgPath)||wn}),(0,on.jsxs)(yn,{children:[(0,on.jsx)(Cn,{children:e.displayName}),(0,on.jsx)(Pn,{children:e.email})]}),r&&(0,on.jsx)(zn,{onClick:o,children:t?(0,on.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:(0,on.jsx)("path",{fill:"currentColor",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-.997-6l7.07-7.071l-1.413-1.414l-5.657 5.657l-2.829-2.829l-1.414 1.414z"})}):(0,on.jsx)("div",{})})]})},_n=jn.Ry().shape({title:jn.Z_().required("Field required").max(120),body:jn.Z_().required("Field required").max(200),type:jn.Z_().required("Field required"),imageUrl:jn.Z_().nullable()}),qn={title:"",body:"",imageUrl:"",type:"",users:[]},Bn=nn.ZP.div(j||(j=(0,I.Z)(["\n    display: flex;\n    align-self: center;\n    justify-content: center;\n    margin-top: 1rem;\n"]))),Rn=(nn.ZP.div(w||(w=(0,I.Z)(["\n    border: 1px solid #00aeff;\n    background-color: #c6deff;\n    padding: 0.5rem;\n    border-radius: 0.4rem;\n    margin-bottom: 1rem;\n"]))),nn.ZP.div(k||(k=(0,I.Z)(["\n    margin-bottom: 1rem;\n    text-align: center;\n    h3 {\n        font-size: 1.1rem;\n        font-weight: bold;\n    }\n"])))),Un=(nn.ZP.div(y||(y=(0,I.Z)(["\n    margin-bottom: 0.5rem;\n    margin-right: 0.5rem;\n"]))),nn.ZP.div(C||(C=(0,I.Z)(["\n    position: relative;\n    width: 240px;\n    max-height: 240px;\n    overflow: hidden;\n    margin: auto;\n    label {\n        display: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        flex-direction: column;\n        background: rgb(255 255 255 / 0%);\n        align-items: center;\n        justify-content: center;\n        font-size: 15px;\n        color: #fff;\n        font-weight: 700;\n    }\n    &:hover label {\n        display: flex;\n    }\n    label svg {\n        width: 32px;\n        height: auto;\n    }\n    input {\n        display: none;\n    }\n"]))),nn.ZP.div(P||(P=(0,I.Z)(["\n    border-radius: 12px;\n    overflow: hidden;\n    line-height: 0;\n    border: 2px solid rgb(109 109 109 / 10%);\n    img {\n        width: 100%;\n        height: auto;\n    }\n"]))),nn.ZP.div(N||(N=(0,I.Z)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgb(103 103 103 / 30%);\n    border-radius: 12px;\n"]))),nn.ZP.div(z||(z=(0,I.Z)(["\n    display: flex;\n    flex-direction: column;\n    background: #0063ff;\n    align-items: center;\n    justify-content: center;\n    border-radius: 10px;\n    padding: 10px 16px;\n    cursor: pointer;\n"]))),nn.ZP.div(S||(S=(0,I.Z)(["\n    font-size: 13px;\n    font-weight: bold;\n    text-align: center;\n    margin-top: 0.5rem;\n"]))),nn.ZP.div(_||(_=(0,I.Z)(["\n    font-size: 13px;\n    font-weight: bold;\n    color: #dc3545;\n    text-align: center;\n    margin-top: -10px;\n    margin-bottom: 1rem;\n"]))),function(n){var e,t=n.data,i=n.onResendNotification,r=((0,J.I0)(),(0,D.useState)(!1)),o=(0,A.Z)(r,2),l=(o[0],o[1],(0,D.useState)(null)),a=(0,A.Z)(l,2),d=(a[0],a[1]),s=(0,D.useState)(null),c=(0,A.Z)(s,2),u=(c[0],c[1]),f=(0,bn.cI)({defaultValues:qn,resolver:(0,Zn.X)(_n)}),m=(f.control,f.reset),h=f.handleSubmit,p=f.setValue,g=(f.watch,f.formState.errors,function(){var n=(0,F.Z)((0,T.Z)().mark((function n(){return(0,T.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i(t);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}());return(0,D.useEffect)((function(){var n;null!==t&&void 0!==t&&t.title?(p("title",(null===t||void 0===t?void 0:t.title)||""),p("body",(null===t||void 0===t?void 0:t.body)||""),p("imageUrl",(null===t||void 0===t?void 0:t.imageUrl)||""),(null===t||void 0===t||null===(n=t.users)||void 0===n?void 0:n.length)>0&&p("users",t.users.map((function(n){return{userId:n.userId,displayName:n.displayName,imageUrl:n.imgPath||null}}))),t.imageUrl&&d(t.imageUrl)):(m(qn),d(null),u(null))}),[t]),(0,on.jsx)(vn.Z,{onSubmit:h(g,(function(n){console.log("_errors",n)})),className:"px-2 FingoShapeRadius",children:(0,on.jsxs)(H.Z,{className:"justify-content-center",children:[(0,on.jsxs)(M.Z,{xs:12,className:"px-2",children:[(0,on.jsx)(Rn,{children:(0,on.jsx)("h3",{children:"Recipients"})}),null===t||void 0===t||null===(e=t.users)||void 0===e?void 0:e.map((function(n){return(0,on.jsx)(Sn,{data:n})}))]}),(0,on.jsx)(M.Z,{xs:12,className:"px-2",children:(0,on.jsx)(Bn,{children:(0,on.jsx)($.mW,{type:"submit",onClick:h,children:"Resend Notification"})})})]})})}),In=nn.ZP.div(q||(q=(0,I.Z)(["\n    overflow-y: scroll;\n    max-height: 100vh;\n"]))),Tn=nn.ZP.div(B||(B=(0,I.Z)(["\n    border-radius: 0.4rem;\n    padding: 1.5rem 2rem;\n"]))),Fn=nn.ZP.div(R||(R=(0,I.Z)(["\n    font-size: 1.3rem;\n    font-weight: bold;\n    text-align: center;\n    margin-bottom: 1rem;\n"]))),An=nn.ZP.div(U||(U=(0,I.Z)(["\n    background-color: transparent;\n    padding-left: 40px;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 2.25rem;\n    margin-top: 1.25rem;\n    @media screen and (min-width: ",") {\n        padding: 2rem 1rem;\n        background-color: #00d02a;\n        border-radius: 0.6rem;\n        padding-left: 48px;\n    }\n    h2 {\n        color: #fff;\n        font-size: 22px;\n        font-weight: bold;\n    }\n"])),en.AV.md),Dn=function(){(0,J.I0)();var n=(0,D.useState)(!1),e=(0,A.Z)(n,2),t=e[0],i=e[1],r=(0,D.useState)(!1),o=(0,A.Z)(r,2),l=o[0],a=o[1],d=(0,D.useState)(null),s=(0,A.Z)(d,2),c=s[0],u=s[1],f=(0,D.useState)([]),m=(0,A.Z)(f,2),h=m[0],p=m[1],g=(0,D.useCallback)((function(){i(!1),u(null),a(!1)}),[]),x=(0,W.aC)(),v=x.user,b=x.isAuthenticated,Z=(0,L.s0)(),j=function(){var n=(0,F.Z)((0,T.Z)().mark((function n(e){var t;return(0,T.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,K.ho.admin_getListNotificationHistory(e);case 3:(t=n.sent)&&p((null===t||void 0===t?void 0:t.data)||[]),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();(0,D.useCallback)((function(){u(null),setTimeout((function(){a(!0)}),250)}),[]);(0,D.useEffect)((function(){b&&"admin"===(null===v||void 0===v?void 0:v.role)?j():Z("/accessdenied")}),[v,b]);var w=(0,D.useCallback)(function(){var n=(0,F.Z)((0,T.Z)().mark((function n(e){var t;return(0,T.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Boolean(null===e||void 0===e?void 0:e._id),n.prev=1,n.next=4,K.ho.admin_createOrUpdateNotificationTemplate(e);case 4:n.sent&&(j(),Y().fire({title:"Success",text:"Notification template has been ".concat(t?"updated":"created","!"),icon:"success",showCancelButton:!1,confirmButtonColor:"#009c4e",confirmButtonText:"Ok"}).then((function(n){n.isConfirmed&&(a(!1),u(null))}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Y().fire({title:"Opss..",text:"Failed to ".concat(t?"update":"create"," notification template!"),icon:"error",showCancelButton:!1,confirmButtonColor:"#9c0017",confirmButtonText:"Ok"}).then((function(n){n.isConfirmed}));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}(),[]),k=(0,D.useCallback)((function(n){i(!0),a(!0),setTimeout((function(){u(n),i(!1)}),750)}),[]);return(0,on.jsxs)(E.v,{children:[(0,on.jsx)(V.q,{children:(0,on.jsx)("title",{children:"(Admin) Delivered Notification"})}),(0,on.jsx)(O.Z,{fluid:!0,children:(0,on.jsx)("div",{className:"row justify-center h-auto",children:(0,on.jsx)("div",{className:"col-12 col-md-10",children:(0,on.jsx)(H.Z,{className:"justify-content-md-center",children:(0,on.jsx)(M.Z,{children:(0,on.jsxs)("div",{className:"AdminRewardContainer",children:[(0,on.jsxs)(An,{children:[(0,on.jsx)("button",{className:"back-arrow",onClick:function(){Z(-1)},children:(0,on.jsx)(X.r,{})}),(0,on.jsx)("div",{style:{textAlign:"center"},children:(0,on.jsx)("h2",{className:"mb-3, text-center",children:"Delivered Notification History"})})]}),(null===h||void 0===h?void 0:h.length)>0&&(null===h||void 0===h?void 0:h.map((function(n,e){return(0,on.jsx)(gn,{data:n,onClickDetail:k},String(e))}))),(0,on.jsx)(G.e,{})]})})})})})}),(0,on.jsx)($.SI,{open:l,onClose:g,width:600,children:(0,on.jsx)(In,{children:t?(0,on.jsx)(xn.Z,{spinnerSize:52,height:500}):(0,on.jsxs)(Tn,{children:[(0,on.jsx)(Fn,{children:"Notification Detail"}),c&&(0,on.jsx)(Un,{data:c,onResendNotification:w})]})})})]})}}}]);
//# sourceMappingURL=182.fdb3b39f.chunk.js.map